<!DOCTYPE html>
<html>
<head>
    <title>Phone Motion Detection</title>
</head>
<body>
    <h1>Phone Motion Detection</h1>
    <p id="status">Waiting for motion data...</p>
    <button onclick="startMotionDetection()">Start Motion Detection</button>

    <script>
        let isMotionDetected = false;

        // Check if the DeviceMotion API is supported by the browser
        if ('DeviceMotionEvent' in window) {
            window.addEventListener('devicemotion', handleMotionEvent, false);
        } else {
            document.getElementById('status').innerHTML = 'DeviceMotion is not supported in this browser.';
        }

        function startMotionDetection() {
            // Reset the motion detection flag
            isMotionDetected = false;

            // Set a timeout for 10 seconds
            setTimeout(function() {
                // Check if motion was detected during the 10-second window
                if (isMotionDetected) {
                    document.getElementById('status').innerHTML = 'Phone was moved in the last 10 seconds.';
                } else {
                    document.getElementById('status').innerHTML = 'Phone was NOT moved in the last 10 seconds.';
                }
            }, 10000);
        }

        function handleMotionEvent(event) {
            // Get the accelerometer data from the event
            const acceleration = event.acceleration;

            // Calculate the magnitude of the acceleration vector
            const accelerationMagnitude = Math.sqrt(
                acceleration.x * acceleration.x +
                acceleration.y * acceleration.y +
                acceleration.z * acceleration.z
            );

            // Set a threshold value to determine motion (you can adjust this threshold)
            const motionThreshold = 1.5;

            // Check if the magnitude exceeds the motion threshold
            if (accelerationMagnitude > motionThreshold) {
                // Motion detected, set the flag to true
                isMotionDetected = true;
            }
        }
    </script>
</body>
</html>
